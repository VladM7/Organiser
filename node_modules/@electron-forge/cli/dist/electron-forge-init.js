"use strict";

require("source-map-support/register");

var _core = require("@electron-forge/core");

var _fsExtra = _interopRequireDefault(require("fs-extra"));

var _commander = _interopRequireDefault(require("commander"));

var _path = _interopRequireDefault(require("path"));

require("./util/terminate");

var _workingDir = _interopRequireDefault(require("./util/working-dir"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(async () => {
  let dir = process.cwd();

  _commander.default.version((await _fsExtra.default.readJson(_path.default.resolve(__dirname, '../package.json'))).version).arguments('[name]').option('-t, --template [name]', 'Name of the Forge template to use').option('-c, --copy-ci-files', 'Whether to copy the templated CI files (defaults to false)', false).option('-f, --force', 'Whether to overwrite an existing directory (defaults to false)', false).action(name => {
    dir = (0, _workingDir.default)(dir, name, false);
  }).parse(process.argv);

  const initOpts = {
    dir,
    interactive: true,
    copyCIFiles: !!_commander.default.copyCiFiles,
    force: !!_commander.default.force
  };
  if (_commander.default.template) initOpts.template = _commander.default.template;
  await _core.api.init(initOpts);
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGVjdHJvbi1mb3JnZS1pbml0LnRzIl0sIm5hbWVzIjpbImRpciIsInByb2Nlc3MiLCJjd2QiLCJwcm9ncmFtIiwidmVyc2lvbiIsImZzIiwicmVhZEpzb24iLCJwYXRoIiwicmVzb2x2ZSIsIl9fZGlybmFtZSIsImFyZ3VtZW50cyIsIm9wdGlvbiIsImFjdGlvbiIsIm5hbWUiLCJwYXJzZSIsImFyZ3YiLCJpbml0T3B0cyIsImludGVyYWN0aXZlIiwiY29weUNJRmlsZXMiLCJjb3B5Q2lGaWxlcyIsImZvcmNlIiwidGVtcGxhdGUiLCJhcGkiLCJpbml0Il0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7Ozs7QUFFQSxDQUFDLFlBQVk7QUFDWCxNQUFJQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixFQUFWOztBQUNBQyxxQkFDR0MsT0FESCxDQUNXLENBQUMsTUFBTUMsaUJBQUdDLFFBQUgsQ0FBWUMsY0FBS0MsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLGlCQUF4QixDQUFaLENBQVAsRUFBZ0VMLE9BRDNFLEVBRUdNLFNBRkgsQ0FFYSxRQUZiLEVBR0dDLE1BSEgsQ0FHVSx1QkFIVixFQUdtQyxtQ0FIbkMsRUFJR0EsTUFKSCxDQUlVLHFCQUpWLEVBSWlDLDREQUpqQyxFQUkrRixLQUovRixFQUtHQSxNQUxILENBS1UsYUFMVixFQUt5QixnRUFMekIsRUFLMkYsS0FMM0YsRUFNR0MsTUFOSCxDQU1XQyxJQUFELElBQVU7QUFDaEJiLElBQUFBLEdBQUcsR0FBRyx5QkFBV0EsR0FBWCxFQUFnQmEsSUFBaEIsRUFBc0IsS0FBdEIsQ0FBTjtBQUNELEdBUkgsRUFTR0MsS0FUSCxDQVNTYixPQUFPLENBQUNjLElBVGpCOztBQVdBLFFBQU1DLFFBQXFCLEdBQUc7QUFDNUJoQixJQUFBQSxHQUQ0QjtBQUU1QmlCLElBQUFBLFdBQVcsRUFBRSxJQUZlO0FBRzVCQyxJQUFBQSxXQUFXLEVBQUUsQ0FBQyxDQUFDZixtQkFBUWdCLFdBSEs7QUFJNUJDLElBQUFBLEtBQUssRUFBRSxDQUFDLENBQUNqQixtQkFBUWlCO0FBSlcsR0FBOUI7QUFNQSxNQUFJakIsbUJBQVFrQixRQUFaLEVBQXNCTCxRQUFRLENBQUNLLFFBQVQsR0FBb0JsQixtQkFBUWtCLFFBQTVCO0FBRXRCLFFBQU1DLFVBQUlDLElBQUosQ0FBU1AsUUFBVCxDQUFOO0FBQ0QsQ0F0QkQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhcGksIEluaXRPcHRpb25zIH0gZnJvbSAnQGVsZWN0cm9uLWZvcmdlL2NvcmUnO1xuXG5pbXBvcnQgZnMgZnJvbSAnZnMtZXh0cmEnO1xuaW1wb3J0IHByb2dyYW0gZnJvbSAnY29tbWFuZGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5pbXBvcnQgJy4vdXRpbC90ZXJtaW5hdGUnO1xuaW1wb3J0IHdvcmtpbmdEaXIgZnJvbSAnLi91dGlsL3dvcmtpbmctZGlyJztcblxuKGFzeW5jICgpID0+IHtcbiAgbGV0IGRpciA9IHByb2Nlc3MuY3dkKCk7XG4gIHByb2dyYW1cbiAgICAudmVyc2lvbigoYXdhaXQgZnMucmVhZEpzb24ocGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uL3BhY2thZ2UuanNvbicpKSkudmVyc2lvbilcbiAgICAuYXJndW1lbnRzKCdbbmFtZV0nKVxuICAgIC5vcHRpb24oJy10LCAtLXRlbXBsYXRlIFtuYW1lXScsICdOYW1lIG9mIHRoZSBGb3JnZSB0ZW1wbGF0ZSB0byB1c2UnKVxuICAgIC5vcHRpb24oJy1jLCAtLWNvcHktY2ktZmlsZXMnLCAnV2hldGhlciB0byBjb3B5IHRoZSB0ZW1wbGF0ZWQgQ0kgZmlsZXMgKGRlZmF1bHRzIHRvIGZhbHNlKScsIGZhbHNlKVxuICAgIC5vcHRpb24oJy1mLCAtLWZvcmNlJywgJ1doZXRoZXIgdG8gb3ZlcndyaXRlIGFuIGV4aXN0aW5nIGRpcmVjdG9yeSAoZGVmYXVsdHMgdG8gZmFsc2UpJywgZmFsc2UpXG4gICAgLmFjdGlvbigobmFtZSkgPT4ge1xuICAgICAgZGlyID0gd29ya2luZ0RpcihkaXIsIG5hbWUsIGZhbHNlKTtcbiAgICB9KVxuICAgIC5wYXJzZShwcm9jZXNzLmFyZ3YpO1xuXG4gIGNvbnN0IGluaXRPcHRzOiBJbml0T3B0aW9ucyA9IHtcbiAgICBkaXIsXG4gICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgY29weUNJRmlsZXM6ICEhcHJvZ3JhbS5jb3B5Q2lGaWxlcyxcbiAgICBmb3JjZTogISFwcm9ncmFtLmZvcmNlLFxuICB9O1xuICBpZiAocHJvZ3JhbS50ZW1wbGF0ZSkgaW5pdE9wdHMudGVtcGxhdGUgPSBwcm9ncmFtLnRlbXBsYXRlO1xuXG4gIGF3YWl0IGFwaS5pbml0KGluaXRPcHRzKTtcbn0pKCk7XG4iXX0=